<div class="main-container">
  <form [formGroup]="notaryGroup" class="form" (ngSubmit)="onSubmit()">
    <div class="form-container">
      <div class="field-container">
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" />
          <mat-error *ngIf="name.invalid">{{ getErrorMessage() }}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="Ex. pat@example.com" />
          <mat-error *ngIf="email.invalid">{{ getEmailErrorMessage() }}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Phone</mat-label>
          <input matInput formControlName="phone" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Street</mat-label>
          <input matInput formControlName="street" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>City</mat-label>
          <input matInput formControlName="city" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Country</mat-label>
          <input matInput formControlName="country" />
        </mat-form-field>
      </div>
      <div class="table--container">
        <button matTooltip="Add itens in table" mat-icon-button (click)="openDialogAndClosed()">
          <mat-icon aria-hidden="false" aria-label="Example home icon">add</mat-icon>
        </button>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z1" matSort
          (matSortChange)="announceSortChange($event)">
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by id">
              <span class="text--column--header">Id</span>
            </th>
            <td mat-cell *matCellDef="let element">{{ element.id }}</td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
              <span class="text--column--header">Name</span>
            </th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>
              <span class="text--column--header">Action</span>
            </th>
            <td mat-cell *matCellDef="let i = index">
              <button mat-icon-button color="warn" matTooltip="Remove Item" (click)="deleteItemFromTable(i)">
                <mat-icon aria-hidden="false" aria-label="Example home icon">delete</mat-icon>
              </button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"
            (click)="selection.toggle(row) !== undefined ? selection.toggle(row) : undefined"></tr>
        </table>
      </div>
    </div>
    <div class="button-container">
      <button mat-flat-button color="warn">Back</button>
      <button mat-flat-button color="primary" type="submit" [disabled]="!notaryGroup.valid">
        Submit
      </button>
    </div>
  </form>
</div>